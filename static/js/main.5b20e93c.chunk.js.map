{"version":3,"sources":["components/ToolProvider.js","components/Canvas/Canvas.js","assets/select.svg","assets/select-active.svg","assets/rectangle.svg","assets/rectangle-active.svg","assets/ellipse.svg","assets/ellipse-active.svg","assets/triangle.svg","assets/triangle-active.svg","assets/line.svg","assets/line-active.svg","assets/arrow.svg","assets/arrow-active.svg","components/ToolBar/ToolBar.js","App.js","reportWebVitals.js","index.js"],"names":["ToolContext","React","createContext","children","useState","tool","setTool","Provider","value","Canvas","useContext","action","setAction","selected","setSelected","elements","setElements","canvasRef","useRef","roughCanvasRef","generator","rough","useLayoutEffect","canvas","current","width","window","innerWidth","height","innerHeight","style","context","getContext","scale","clearRect","forEach","element","draw","createElement","id","type","coords","lockRatio","x1","y1","x2","y2","options","fill","line","rectangle","ellipse","path","Math","sqrt","radians","diffX","diffY","newX","cos","sin","newY","newX2","newY2","offset","roughness","stroke","strokeWidth","strokeLineDash","updateElement","updatedElement","newElements","outlineElement","length","resizer","getDistance","a","b","pow","x","y","getElementAtPosition","map","position","getPositionWithinElement","find","getAdjustedCoordinates","minX","min","maxX","max","minY","maxY","abs","topLeft","nearPoint","topRight","bottomLeft","bottomRight","edge","c","distance","start","end","inside","name","addResizeHandler","outline","prevState","removeResizeHandler","splice","removeElement","setCursor","ref","onMouseDown","event","clientX","clientY","offsetX","offsetY","target","cursor","onMouseUp","index","onMouseMove","elementToUpdate","backgroundImage","process","ToolBar","className","Tool","images","select","selectActive","rectangleActive","ellipseActive","triangle","triangleActive","lineActive","arrow","arrowActive","props","inactiveImg","activeImg","checked","onChange","src","alt","charAt","toUpperCase","slice","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5b20e93c.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\n\r\nconst initialState = 'rectangle'\r\n\r\nexport const ToolContext = React.createContext()\r\n\r\nexport default ({ children }) => {\r\n    const [tool, setTool] = useState(initialState)\r\n\r\n    return (\r\n        <ToolContext.Provider value={[tool, setTool]}>{ children }</ToolContext.Provider>\r\n    )\r\n}\r\n","import React, {\r\n    useRef,\r\n    useEffect,\r\n    useLayoutEffect,\r\n    useState,\r\n    useContext,\r\n} from 'react';\r\nimport { ToolContext } from '../ToolProvider';\r\nimport rough from 'roughjs/bundled/rough.esm';\r\n\r\nconst useHistory = (initialState) => {\r\n    // Undo / Redo\r\n};\r\n\r\nexport default function Canvas() {\r\n    const [tool, setTool] = useContext(ToolContext);\r\n    const [action, setAction] = useState(null);\r\n    const [selected, setSelected] = useState(null);\r\n    const [elements, setElements] = useState([]);\r\n\r\n    const canvasRef = useRef(null);\r\n    const roughCanvasRef = useRef(null);\r\n    const generator = rough.generator();\r\n\r\n    useLayoutEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        canvas.width = window.innerWidth * 2;\r\n        canvas.height = window.innerHeight * 2;\r\n        canvas.style.width = `${window.innerWidth}px`;\r\n        canvas.style.height = `${window.innerHeight}px`;\r\n\r\n        roughCanvasRef.current = rough.canvas(canvas);\r\n\r\n        const context = canvas.getContext('2d');\r\n        context.scale(2, 2);\r\n        context.clearRect(0, 0, canvas.width, canvas.height);\r\n        elements.forEach(({ element }) => roughCanvasRef.current.draw(element));\r\n    }, [elements]);\r\n\r\n    /*useLayoutEffect(() => {\r\n        console.log('called')\r\n        if(selected) {\r\n            removeResizeHandler()            \r\n            //addResizeHandler(selected)\r\n        } else {            \r\n            removeResizeHandler()\r\n        }\r\n        \r\n    }, [selected])*/\r\n\r\n    const handleMouseUp = () => {\r\n        if (action === 'drawing' || action === 'resizing') {\r\n            const index = elements.length - 1;\r\n            const { x1, y1, x2, y2 } = getAdjustedCoordinates(elements[index]);\r\n            updateElement(index, tool, { x1, y1, x2, y2 });\r\n        }\r\n\r\n        setAction('none');\r\n    };\r\n\r\n    const handleMouseDown = (event) => {\r\n        const { clientX, clientY } = event;\r\n\r\n        if (tool === 'selection') {\r\n            const element = getElementAtPosition(clientX, clientY);\r\n\r\n            if (element) {\r\n                const { x1, y1, x2, y2 } = element;\r\n\r\n                if (selected && selected.id === element.id) {\r\n                    const width = x2 - x1;\r\n                    const height = y2 - y1;\r\n                    setSelected({\r\n                        ...element,\r\n                        offsetX: clientX - x1,\r\n                        offsetY: clientY - y1,\r\n                        width,\r\n                        height,\r\n                    });\r\n                    setElements((prevState) => prevState);\r\n                    setAction('moving');\r\n                } else {\r\n                    removeResizeHandler();\r\n\r\n                    if (element.position !== 'empty' && !selected) {\r\n                        setSelected(element);\r\n                        addResizeHandler(element);\r\n                        event.target.style.cursor = element\r\n                            ? setCursor(element.position)\r\n                            : 'default';\r\n                    }\r\n                }\r\n            } else {\r\n                setSelected(null);\r\n                removeResizeHandler();\r\n            }\r\n        } else {\r\n            selected && removeResizeHandler();\r\n            const id = elements.length;\r\n            const coords = {\r\n                x1: clientX,\r\n                y1: clientY,\r\n                x2: clientX,\r\n                y2: clientY,\r\n            };\r\n            const element = createElement(id, tool, coords);\r\n            setElements((prevState) => [...prevState, element]);\r\n            setAction('drawing');\r\n        }\r\n    };\r\n\r\n    const handleMouseMove = (event) => {\r\n        const { clientX, clientY } = event;\r\n\r\n        if (tool === 'selection' && selected) {\r\n            const element = getElementAtPosition(clientX, clientY);\r\n            event.target.style.cursor = element\r\n                ? setCursor(element.position)\r\n                : 'default';\r\n        }\r\n\r\n        if (action === 'drawing') {\r\n            const index = elements.length - 1;\r\n            const elementToUpdate = elements[index];\r\n            const { x1, y1 } = elementToUpdate;\r\n            const coords = { x1, y1, x2: clientX, y2: clientY };\r\n            updateElement(index, tool, coords);\r\n        } else if (action === 'moving') {\r\n            const { id, offsetX, offsetY, width, height } = selected;\r\n            const x = clientX - offsetX;\r\n            const y = clientY - offsetY;\r\n            updateElement(id, selected.type, {\r\n                x1: x,\r\n                y1: y,\r\n                x2: x + width,\r\n                y2: y + height,\r\n            });\r\n        }\r\n    };\r\n\r\n    const createElement = (id, type, coords, lockRatio = false) => {\r\n        let { x1, y1, x2, y2 } = coords;\r\n        let element;\r\n        const options = {\r\n            fill: 'red',\r\n        };\r\n\r\n        switch (type) {\r\n            case 'line':\r\n                element = generator.line(x1, y1, x2, y2, options);\r\n                break;\r\n            case 'rectangle':\r\n                element = lockRatio\r\n                    ? generator.rectangle(x1, y1, x2 - x1, x2 - x1, options)\r\n                    : generator.rectangle(x1, y1, x2 - x1, y2 - y1, options);\r\n                break;\r\n            case 'ellipse':\r\n                element = lockRatio\r\n                    ? generator.ellipse(\r\n                          (x1 + x2) / 2,\r\n                          (y1 + y2) / 2,\r\n                          x2 - x1,\r\n                          x2 - x1,\r\n                          options\r\n                      )\r\n                    : generator.ellipse(\r\n                          (x1 + x2) / 2,\r\n                          (y1 + y2) / 2,\r\n                          x2 - x1,\r\n                          y2 - y1,\r\n                          options\r\n                      );\r\n                break;\r\n            case 'triangle':\r\n                element = lockRatio\r\n                    ? generator.path(\r\n                          `M ${x1},${y2} L ${x2},${y2} L ${\r\n                              (x2 - x1) / 2 + x1\r\n                          },${\r\n                              ((x1 - x2) * Math.sqrt(3)) / 2 + y2\r\n                          } L ${x1},${y2} Z`,\r\n                          options\r\n                      )\r\n                    : generator.path(\r\n                          `M ${x1},${y2} L ${x2},${y2} L ${\r\n                              (x2 - x1) / 2 + x1\r\n                          },${(y2 - y1) / 2 + y1} L ${x1},${y2} Z`,\r\n                          options\r\n                      );\r\n                break;\r\n            case 'arrow':\r\n                const radians = 0.4;\r\n                const [diffX, diffY] = [x1 - x2, y1 - y2];\r\n                const newX =\r\n                    (diffX * Math.cos(radians) + diffY * Math.sin(radians)) /\r\n                        10 +\r\n                    x2;\r\n                const newY =\r\n                    (-diffX * Math.sin(radians) + diffY * Math.cos(radians)) /\r\n                        10 +\r\n                    y2;\r\n                const newX2 =\r\n                    (diffX * Math.cos(radians) - diffY * Math.sin(radians)) /\r\n                        10 +\r\n                    x2;\r\n                const newY2 =\r\n                    (diffX * Math.sin(radians) + diffY * Math.cos(radians)) /\r\n                        10 +\r\n                    y2;\r\n\r\n                element = generator.path(\r\n                    `M ${x1},${y1} L ${x2},${y2} L ${newX},${newY} M ${x2},${y2} L ${newX2},${newY2} Z`\r\n                );\r\n                break;\r\n            case 'outline':\r\n                const offset = 6;\r\n\r\n                element = generator.rectangle(\r\n                    x1 - offset,\r\n                    y1 - offset,\r\n                    x2 - x1 + 2 * offset,\r\n                    y2 - y1 + 2 * offset,\r\n                    {\r\n                        roughness: 0.5,\r\n                        stroke: 'grey',\r\n                        strokeWidth: 2,\r\n                        strokeLineDash: [5, 10],\r\n                    }\r\n                );\r\n                break;\r\n            default:\r\n                element = generator.line(x1, y1, x2, y2, options);\r\n                break;\r\n        }\r\n\r\n        return { id, type, x1, y1, x2, y2, element };\r\n    };\r\n\r\n    const removeElement = (id, length = 1) => {\r\n        const newElements = [...elements];\r\n        newElements.splice(id, length);\r\n        setElements(newElements);\r\n    };\r\n\r\n    const updateElement = (id, type, coords) => {\r\n        const updatedElement = createElement(id, type, coords);\r\n        const newElements = [...elements];\r\n        newElements[id] = updatedElement;\r\n\r\n        if (selected && tool === 'selection') {\r\n            const { x1, y1 } = coords;\r\n            const outlineElement = createElement(\r\n                elements.length - 2,\r\n                'outline',\r\n                coords\r\n            );\r\n            const resizer = createElement(elements.length - 1, 'outline', {\r\n                x1: x1 - 2,\r\n                y1: y1 - 2,\r\n                x2: x1 + 2,\r\n                y2: y1 + 2,\r\n            });\r\n            newElements[elements.length - 2] = outlineElement;\r\n            newElements[elements.length - 1] = resizer;\r\n        }\r\n\r\n        setElements(newElements);\r\n    };\r\n\r\n    const getDistance = (a, b) =>\r\n        Math.sqrt(Math.pow(b.x - a.x, 2) + Math.pow(b.y - a.y, 2));\r\n\r\n    const getElementAtPosition = (x, y) => {\r\n        return elements\r\n            .map((element) => ({\r\n                ...element,\r\n                position: getPositionWithinElement(x, y, element),\r\n            }))\r\n            .find((element) => element.position !== null);\r\n    };\r\n\r\n    const getAdjustedCoordinates = (element) => {\r\n        const { type, x1, y1, x2, y2 } = element;\r\n        const minX = Math.min(x1, x2);\r\n        const maxX = Math.max(x1, x2);\r\n        const minY = Math.min(y1, y2);\r\n        const maxY = Math.max(y1, y2);\r\n\r\n        switch (type) {\r\n            case 'rectangle':\r\n            case 'ellipse':\r\n                return { x1: minX, y1: minY, x2: maxX, y2: maxY };\r\n            case 'triangle':\r\n                return { x1, y1, x2, y2 }; // To Fix\r\n            case 'line':\r\n                const coords =\r\n                    x1 < x2 || (x1 === x2 && y1 < y2)\r\n                        ? { x1, y1, x2, y2 }\r\n                        : { x1: x2, y1: y2, x2: x1, y2: y1 };\r\n                return coords;\r\n            case 'arrow':\r\n                return { x1, y1, x2, y2 }; // To Fix\r\n            default:\r\n                return { x1, y1, x2, y2 };\r\n        }\r\n    };\r\n\r\n    const getPositionWithinElement = (x, y, element) => {\r\n        const { type, x1, y1, x2, y2 } = element;\r\n        const middleX = (x2 - x1) / 2;\r\n        const middleY = (y2 - y1) / 2;\r\n        const offset = 6;\r\n\r\n        if (type === 'rectangle' || type === 'ellipse' || type === 'triangle') {\r\n            if (\r\n                Math.abs(x - offset) > x1 &&\r\n                Math.abs(x + offset) < x2 &&\r\n                Math.abs(y - offset) > y1 &&\r\n                Math.abs(y + offset) < y2\r\n            ) {\r\n                if (element.element.options.fill) {\r\n                    return 'inside';\r\n                } else {\r\n                    return 'empty';\r\n                }\r\n            } else {\r\n                const topLeft = nearPoint(x, y, x1, y1, offset, 'topLeft');\r\n                const topRight = nearPoint(x, y, x2, y1, offset, 'topRight');\r\n                const bottomLeft = nearPoint(\r\n                    x,\r\n                    y,\r\n                    x1,\r\n                    y2,\r\n                    offset,\r\n                    'bottomLeft'\r\n                );\r\n                const bottomRight = nearPoint(\r\n                    x,\r\n                    y,\r\n                    x2,\r\n                    y2,\r\n                    offset,\r\n                    'bottomRight'\r\n                );\r\n                const edge =\r\n                    Math.abs(x - x1) < offset ||\r\n                    Math.abs(x - x2) < offset ||\r\n                    Math.abs(y - y1) < offset ||\r\n                    Math.abs(y - y2) < offset\r\n                        ? 'edge'\r\n                        : null;\r\n\r\n                return topLeft || topRight || bottomLeft || bottomRight || edge;\r\n            }\r\n        } else {\r\n            const a = { x: x1, y: y1 };\r\n            const b = { x: x2, y: y2 };\r\n            const c = { x, y };\r\n            const distance =\r\n                getDistance(a, b) - (getDistance(a, c) + getDistance(b, c));\r\n            const start = nearPoint(x, y, x1, y1, offset, 'start');\r\n            const end = nearPoint(x, y, x2, y2, offset, 'end');\r\n            const inside = Math.abs(distance) < offset ? 'inside' : null;\r\n\r\n            return start || end || inside;\r\n        }\r\n    };\r\n\r\n    const nearPoint = (x, y, x1, y1, offset, name) =>\r\n        Math.abs(x - x1) < offset && Math.abs(y - y1) < offset ? name : null;\r\n\r\n    const addResizeHandler = (element) => {\r\n        const { x1, y1, x2, y2 } = element;\r\n        const outline = createElement(elements.length, 'outline', {\r\n            x1,\r\n            y1,\r\n            x2,\r\n            y2,\r\n        });\r\n        setElements((prevState) => [...prevState, outline]);\r\n\r\n        const resizer = createElement(elements.length + 1, 'outline', {\r\n            x1: x1 - 4,\r\n            y1: y1 - 4,\r\n            x2: x1 - 2,\r\n            y2: y1 - 2,\r\n        });\r\n        setElements((prevState) => [...prevState, resizer]);\r\n    };\r\n\r\n    const removeResizeHandler = () => {\r\n        const outline = elements.find((element) => element.type === 'outline');\r\n\r\n        if (outline) {\r\n            removeElement(outline.id, 2);\r\n            setSelected(null);\r\n            setAction(null);\r\n        }\r\n    };\r\n\r\n    const setCursor = (position) => {\r\n        switch (position) {\r\n            case 'inside':\r\n                return 'move';\r\n\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <canvas\r\n            ref={canvasRef}\r\n            onMouseDown={handleMouseDown}\r\n            onMouseUp={handleMouseUp}\r\n            onMouseMove={handleMouseMove}\r\n            style={{\r\n                backgroundImage: `url(${\r\n                    process.env.PUBLIC_URL + '/images/noise.png'\r\n                })`,\r\n            }}\r\n        >\r\n            Your browser doesn't support canvas\r\n        </canvas>\r\n    );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/select.70df1ec0.svg\";","export default __webpack_public_path__ + \"static/media/select-active.f1899dc7.svg\";","export default __webpack_public_path__ + \"static/media/rectangle.f5d954ea.svg\";","export default __webpack_public_path__ + \"static/media/rectangle-active.72c4a5ef.svg\";","export default __webpack_public_path__ + \"static/media/ellipse.3530a60b.svg\";","export default __webpack_public_path__ + \"static/media/ellipse-active.957d413c.svg\";","export default __webpack_public_path__ + \"static/media/triangle.ecc9a150.svg\";","export default __webpack_public_path__ + \"static/media/triangle-active.f995cf0d.svg\";","export default __webpack_public_path__ + \"static/media/line.0ee8f270.svg\";","export default __webpack_public_path__ + \"static/media/line-active.53b5389c.svg\";","export default __webpack_public_path__ + \"static/media/arrow.b24a6f66.svg\";","export default __webpack_public_path__ + \"static/media/arrow-active.d3871a3f.svg\";","import React, { useContext } from 'react'\r\nimport { ToolContext } from '../ToolProvider'\r\nimport './ToolBar.css'\r\n\r\nimport select from '../../assets/select.svg'\r\nimport selectActive from '../../assets/select-active.svg'\r\nimport rectangle from '../../assets/rectangle.svg'\r\nimport rectangleActive from '../../assets/rectangle-active.svg'\r\nimport ellipse from '../../assets/ellipse.svg'\r\nimport ellipseActive from '../../assets/ellipse-active.svg'\r\nimport triangle from '../../assets/triangle.svg'\r\nimport triangleActive from '../../assets/triangle-active.svg'\r\nimport line from '../../assets/line.svg'\r\nimport lineActive from '../../assets/line-active.svg'\r\nimport arrow from '../../assets/arrow.svg'\r\nimport arrowActive from '../../assets/arrow-active.svg'\r\n\r\nexport default function ToolBar() {\r\n    return (\r\n        <div className=\"tool-box\">\r\n            <h2>TOOLS</h2>\r\n            <Tool key=\"1\" type=\"selection\" images={ [select, selectActive] }/>            \r\n            <Tool key=\"2\" type=\"rectangle\" images={ [rectangle, rectangleActive] }/>\r\n            <Tool key=\"3\" type=\"ellipse\" images={ [ellipse, ellipseActive] }/>\r\n            <Tool key=\"4\" type=\"triangle\" images={ [triangle, triangleActive] }/>\r\n            <Tool key=\"5\" type=\"line\" images={ [line, lineActive] }/>\r\n            <Tool key=\"6\" type=\"arrow\" images={ [arrow, arrowActive] }/>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Tool(props) {\r\n    const [tool, setTool] = useContext(ToolContext)\r\n    const {type, images} = props\r\n    const [inactiveImg, activeImg] = images\r\n\r\n    const handleChange = () => {\r\n        setTool(type)\r\n    }\r\n\r\n    return (        \r\n        <label className=\"tool\">\r\n            <input\r\n                type=\"radio\"\r\n                value={ type }\r\n                checked={ tool === type }\r\n                onChange={ handleChange }                \r\n            />\r\n            <img\r\n                src={ tool === type ? activeImg : inactiveImg } \r\n                alt={ type }\r\n            />\r\n            <span>{ type.charAt(0).toUpperCase() + type.slice(1) }</span>           \r\n        </label>        \r\n    )\r\n}","import Canvas from './components/Canvas/Canvas'\r\nimport ToolBar from './components/ToolBar/ToolBar'\r\nimport ToolContext from './components/ToolProvider'\r\nimport './App.css'\r\n\r\nexport default function App() {\r\n  return (\r\n    <ToolContext>\r\n      <ToolBar/>\r\n      <Canvas/>\r\n    </ToolContext>\r\n  )\r\n}\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}